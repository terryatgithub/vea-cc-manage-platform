(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-17556570"],{"1b0a":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentCard",{attrs:{title:"版块个性化推荐核心指标"},on:{"go-back":function(e){return t.$emit("go-back")}}},[a("span",{attrs:{slot:"actions"},slot:"actions"}),a("div",[a("el-form",{staticClass:"filter",attrs:{inline:!0},nativeOn:{submit:function(t){t.preventDefault()},keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.$refs.submit.$el.click())}}},[a("el-form-item",[a("InputPositiveInt",{attrs:{name:"tabId",autocomplete:"on",clearable:"",placeholder:"版面 ID"},model:{value:t.filter.tabId,callback:function(e){t.$set(t.filter,"tabId",e)},expression:"filter.tabId"}})],1),a("el-button",{ref:"submit",attrs:{type:"primary","native-type":"submit"},on:{click:t.fetchData}},[t._v("查询")])],1),t.chartList?a("div",[a("el-select",{directives:[{name:"show",rawName:"v-show",value:!!t.chartList.length,expression:"!!chartList.length"}],staticStyle:{width:"100%"},model:{value:t.currentChart,callback:function(e){t.currentChart=e},expression:"currentChart"}},t._l(t.chartList,function(t){return a("el-option",{key:t.id,attrs:{label:t.id,value:t.id}})}),1),0===t.chartList.length?a("div",{staticClass:"chart-box--none"},[t._v("\n        该版面在过去 30 天没有配置过版块个性化推荐\n      ")]):a("div",t._l(t.chartDataList,function(e,n){return a("div",{key:n,staticClass:"chart-box"},[a("p",{staticClass:"chart-box__title"},[t._v(t._s(e.title))]),a("VeLine",{attrs:{data:e.data,"legend-visible":!1,extend:e.extend,settings:e.settings}})],1)}),0)],1):t._e()],1)])},r=[],i=(a("7514"),a("ac6a"),a("c3da")),s=a.n(i),c=a("2149"),o={components:{VeLine:s.a,InputPositiveInt:c["a"]},data:function(){return{filter:{tabId:void 0},currentChart:void 0,chartList:null,chartDataList:null}},watch:{currentChart:"fetchChart"},methods:{fetchData:function(){var t=this,e=this.filter;if(this.currentChart=void 0,this.chartList=null,this.chartDataList=null,!e.tabId)return this.$message.error("请输入版面id");this.$service.getPanelRecommandStat(e).then(function(e){var a=e.rows;a.length>0&&(a.forEach(function(t){t.id="".concat(t.tabName,"(").concat(t.tabId,") / ").concat(t.startDate," - ").concat(t.endDate," / 从第 ").concat(t.recommendIndex," 个开始")}),t.currentChart=a[0].id),t.chartList=a})},fetchChart:function(){var t=this;this.chartData=null;var e=this.currentChart;if(e){var a=this.filter,n=this.chartList.find(function(t){var a=t.id;return a===e}),r={tabId:a.tabId,startDate:n.startDate,endDate:n.endDate,recommendIndex:n.recommendIndex};this.$service.getPanelRecommandChart(r).then(function(e){t.chartDataList=t.parseChartDataList(e.rows),console.log(t.chartDataList)})}},parseChartDataList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.map(function(t){var e=t.title,a={title:e,unit:t.unit,columns:["x","y"],rows:t.data},n={labelMap:{y:e}},r={grid:{top:"2%",left:"5%",right:"5%",bottom:"10%",containLabel:!0},series:function(t){return t[0].smooth=!1,t},xAxis:{axisLabel:{rotate:45,formatter:function(t){var e=t.indexOf("(");if(-1===e)return t;var a=t.slice(e-t.length),n=t.slice(0,e);return["{a|".concat(a,"}"),n].join("")},rich:{a:{color:"red"}}}},color:["#1E90FF ","#2f4554"]};return"%"===a.unit&&(r.yAxis={axisLabel:{formatter:"{value}%"}}),{title:e,data:a,settings:n,extend:r}})}}},l=o,u=(a("2a4d"),a("2877")),h=Object(u["a"])(l,n,r,!1,null,"23e56e52",null);e["default"]=h.exports},"2a4d":function(t,e,a){"use strict";var n=a("a57c"),r=a.n(n);r.a},a57c:function(t,e,a){}}]);
//# sourceMappingURL=chunk-17556570.71ba2da7.js.map