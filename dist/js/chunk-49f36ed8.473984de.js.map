{"version":3,"sources":["webpack:///./src/views/tabInsertionTask/TabInsertionTaskIndex.vue","webpack:///./src/views/tabInsertionTask/TabInsertionTaskContent.vue?f57c","webpack:///./src/components/selectors/DmpSelector.vue?2ffb","webpack:///src/components/selectors/DmpSelector.vue","webpack:///./src/components/selectors/DmpSelector.vue?9342","webpack:///./src/components/selectors/DmpSelector.vue","webpack:///src/views/tabInsertionTask/TabInsertionTaskContent.vue","webpack:///./src/views/tabInsertionTask/TabInsertionTaskContent.vue?c772","webpack:///./src/views/tabInsertionTask/TabInsertionTaskContent.vue","webpack:///./src/views/tabInsertionTask/TabInsertionTaskList.vue?a1cb","webpack:///./src/components/ListLayout.vue?2cfe","webpack:///src/components/ListLayout.vue","webpack:///./src/components/ListLayout.vue?833e","webpack:///./src/components/ListLayout.vue","webpack:///./src/components/ActionList.vue?5564","webpack:///src/components/ActionList.vue","webpack:///./src/components/ActionList.vue?dc45","webpack:///./src/components/ActionList.vue","webpack:///src/views/tabInsertionTask/TabInsertionTaskList.vue","webpack:///./src/views/tabInsertionTask/TabInsertionTaskList.vue?bcd5","webpack:///./src/views/tabInsertionTask/TabInsertionTaskList.vue","webpack:///src/views/tabInsertionTask/TabInsertionTaskIndex.vue","webpack:///./src/views/tabInsertionTask/TabInsertionTaskIndex.vue?1362","webpack:///./src/components/ListLayout.vue?0166","webpack:///./src/views/tabInsertionTask/TabInsertionTaskContent.vue?49a0","webpack:///./src/components/selectors/DmpSelector.vue?1e0d"],"names":["TabInsertionTaskIndex_render","TabInsertionTaskIndex_staticRenderFns","render","_vm","this","_h","$createElement","_c","_self","attrs","title","on","go-back","$event","$emit","mode","staticClass","slot","type","click","handleSave","_v","ref","readonly","model","form","label-width","label","rules","source","prop","value","options","$consts","sourceOptions","input","handleChangeSource","taskName","callback","$$v","$set","expression","tabId","selection-type","select-end","handleSelectTabEnd","_s","_e","insertIndex","dmpRegistryInfo","handleSelectCrowdEnd","dmpPolicyName","dmpPolicyId","dmpCrowdName","dmpCrowdId","staticRenderFns","DmpSelectorvue_type_template_id_2b881a5c_scoped_true_render","handleSelectStart","_t","disabled","plain","visible","showPolicySelector","append-to-body","before-close","handleClose","_l","policy","item","key","handleSelectPolicy","showCrowdSelector","handleSelectCrowdCancel","hasCascadeTag","crowd","cascadeItems","filterable","expandTrigger","length","placeholder","change-on-select","selectedCascaderCrowd","handleSelectCascadeCrowd","handleSelectCrowd","DmpSelectorvue_type_template_id_2b881a5c_scoped_true_staticRenderFns","DmpSelectorvue_type_script_lang_js_","data","selectedPolicy","undefined","selectedCrowd","pagination","items","props","methods","_this","$service","getCrowdPolicy","then","result","setTimeout","bind","crowdRelGet","id","crowdRelationship","listToTree","getCrowdOfPolicyWithCache","selectEnd","selectedCrowdValue","slice","find","JSON","parse","stringify","parentId","ID_KEY","idKey","PARENT_KEY","parentKey","CHILDREN_KEY","childrenKey","tree","childrenOf","i","push","selectors_DmpSelectorvue_type_script_lang_js_","component","Object","componentNormalizer","DmpSelector","TabInsertionTaskContentvue_type_script_lang_js_","extends","lib","ResourceBaseContent","components","TabSelector","CommonContent","InputPositiveInt","resourceName","required","message","trigger","max","val","tabInfo","validate","cb","$refs","valid","$message","error","parseDataToApi","_this2","$utils","cloneDeep","$confirm","tabInsertionTaskUpsert","catch","setTabInsertionTask","lodash","fetchData","_this3","tabInsertionTaskGetDetail","created","initMode","version","tabInsertionTask_TabInsertionTaskContentvue_type_script_lang_js_","TabInsertionTaskContent_component","TabInsertionTaskContent","TabInsertionTaskListvue_type_template_id_4b9b1d54_scoped_true_render","pagingation-change","inline","clearable","filter","handleFilter","handleResetFilter","actions","create","handleCreate","edit","handleEdit","delete","handleDelete","table","header","selected","selectionType","select-on-row-click","row-selection-add","handleRowSelectionAdd","row-selection-remove","handleRowSelectionRemove","all-row-selection-change","handleAllRowSelectionChange","showEnableTaskDialog","width","update:visible","taskInfo","taskInfoRules","_n","handleUpsertTaskStatus","TabInsertionTaskListvue_type_template_id_4b9b1d54_scoped_true_staticRenderFns","ListLayoutvue_type_template_id_3379e9d6_scoped_true_render","$slots","current-page","currentPage","page-sizes","page-size","pageSize","layout","total","size-change","handlePageSizeChange","current-change","handlePageChange","ListLayoutvue_type_template_id_3379e9d6_scoped_true_staticRenderFns","ListLayoutvue_type_script_lang_js_","page","components_ListLayoutvue_type_script_lang_js_","ListLayout_component","ListLayout","ActionListvue_type_template_id_f061fec2_render","defaultAction","index","ActionListvue_type_template_id_f061fec2_staticRenderFns","ActionListvue_type_script_lang_js_","components_ActionListvue_type_script_lang_js_","ActionList_component","ActionList","TabInsertionTaskListvue_type_script_lang_js_","ResourceBaseList","Table","admin_toolkit_common","taskStatusOptions","genDefaultFilter","effictientFilter","h","_ref","row","handleRead","_ref2","sourceText","_ref3","enableTask","aliveTime","_ref4","endTime","_ref5","nativeOn","event","stopPropagation","handleToggleTask","genTaskInfo","_ref6","taskId","getFilter","rows","tabInsertionTaskGetList","doUpsert","task","_ref7","tabInsertionTaskStatusUpsert","taskStatusForm","tabInsertionTask_TabInsertionTaskListvue_type_script_lang_js_","TabInsertionTaskList_component","TabInsertionTaskList","TabInsertionTaskIndexvue_type_script_lang_js_","ResourceBaseIndex","TabPage","ResourceList","ResourceContent","idField","computed","listProps","contentProps","resourceInfo","tabInsertionTask_TabInsertionTaskIndexvue_type_script_lang_js_","TabInsertionTaskIndex_component","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ListLayout_vue_vue_type_style_index_0_id_3379e9d6_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ListLayout_vue_vue_type_style_index_0_id_3379e9d6_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TabInsertionTaskContent_vue_vue_type_style_index_0_id_363e735e_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TabInsertionTaskContent_vue_vue_type_style_index_0_id_363e735e_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_DmpSelector_vue_vue_type_style_index_0_id_2b881a5c_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_DmpSelector_vue_vue_type_style_index_0_id_2b881a5c_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/chunk-49f36ed8.473984de.js","sourcesContent":["var render, staticRenderFns\nimport script from \"./TabInsertionTaskIndex.vue?vue&type=script&lang=js&\"\nexport * from \"./TabInsertionTaskIndex.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"52029fc2\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ContentCard',{attrs:{\"title\":_vm.title},on:{\"go-back\":function($event){return _vm.$emit('go-back')}}},[_c('CommonContent',{attrs:{\"mode\":_vm.mode}},[_c('div',{staticClass:\"actions\",attrs:{\"slot\":\"auditAndDraft\"},slot:\"auditAndDraft\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleSave}},[_vm._v(\"\\n        保存\\n      \")])],1),_c('DataForm',{ref:\"form\",attrs:{\"readonly\":_vm.mode === 'read',\"model\":_vm.form,\"label-width\":\"120px\"}},[_c('DataEnum',{attrs:{\"label\":\"内容源\",\"rules\":_vm.rules.source,\"prop\":\"source\",\"type\":\"radio\",\"value\":_vm.form.source,\"options\":_vm.$consts.sourceOptions},on:{\"input\":_vm.handleChangeSource}}),_c('DataString',{attrs:{\"label\":\"任务名称\",\"rules\":_vm.rules.taskName,\"prop\":\"taskName\"},model:{value:(_vm.form.taskName),callback:function ($$v) {_vm.$set(_vm.form, \"taskName\", $$v)},expression:\"form.taskName\"}}),_c('DataAny',{attrs:{\"label\":\"版面\",\"rules\":_vm.rules.tabId,\"prop\":\"tabId\"}},[_c('div',{attrs:{\"slot\":\"edit\"},slot:\"edit\"},[_c('TabSelector',{attrs:{\"source\":_vm.form.source,\"selection-type\":\"single\"},on:{\"select-end\":_vm.handleSelectTabEnd}}),(_vm.form.tabId)?_c('span',[_vm._v(\"\\n            已选择: \"+_vm._s(_vm.form.tabId)+\"\\n          \")]):_vm._e()],1),_c('div',{attrs:{\"slot\":\"read\"},slot:\"read\"},[_vm._v(\"\\n          \"+_vm._s(_vm.form.tabId)+\"\\n        \")])]),_c('DataAny',{attrs:{\"label\":\"强插位置\",\"rules\":_vm.rules.insertIndex,\"prop\":\"insertIndex\"}},[_c('InputPositiveInt',{attrs:{\"slot\":\"edit\"},slot:\"edit\",model:{value:(_vm.form.insertIndex),callback:function ($$v) {_vm.$set(_vm.form, \"insertIndex\", $$v)},expression:\"form.insertIndex\"}}),_c('span',{attrs:{\"slot\":\"read\"},slot:\"read\"},[_vm._v(\" \"+_vm._s(_vm.form.insertIndex))])],1),_c('DataAny',{attrs:{\"label\":\"定向人群\",\"rules\":_vm.rules.dmpRegistryInfo,\"prop\":\"dmpRegistryInfo.dmpCrowdId\"},model:{value:(_vm.form.dmpRegistryInfo),callback:function ($$v) {_vm.$set(_vm.form, \"dmpRegistryInfo\", $$v)},expression:\"form.dmpRegistryInfo\"}},[_c('div',{attrs:{\"slot\":\"edit\"},slot:\"edit\"},[_c('DmpSelector',{on:{\"select-end\":_vm.handleSelectCrowdEnd}}),(_vm.form.dmpRegistryInfo.dmpCrowdId)?_c('span',[_vm._v(\"\\n            已选择: \"+_vm._s(_vm.form.dmpRegistryInfo.dmpPolicyName)+\"(\"+_vm._s(_vm.form.dmpRegistryInfo.dmpPolicyId)+\")/\"+_vm._s(_vm.form.dmpRegistryInfo.dmpCrowdName)+\"(\"+_vm._s(_vm.form.dmpRegistryInfo.dmpCrowdId)+\")\\n          \")]):_vm._e()],1),_c('div',{attrs:{\"slot\":\"read\"},slot:\"read\"},[_vm._v(\"\\n          \"+_vm._s(_vm.form.dmpRegistryInfo.dmpPolicyName)+\"(\"+_vm._s(_vm.form.dmpRegistryInfo.dmpPolicyId)+\")/\"+_vm._s(_vm.form.dmpRegistryInfo.dmpCrowdName)+\"(\"+_vm._s(_vm.form.dmpRegistryInfo.dmpCrowdId)+\")\\n        \")])])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"remote-selector-wrapper\"},[_c('div',{on:{\"click\":_vm.handleSelectStart}},[_vm._t(\"default\",[_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":_vm.disabled,\"plain\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.title || '选择人群'))])])],2),_c('div',{staticClass:\"crowd-selector\"},[_c('el-dialog',{attrs:{\"title\":\"选择策略\",\"visible\":_vm.showPolicySelector,\"append-to-body\":\"\",\"before-close\":_vm.handleClose}},[_c('div',{staticClass:\"name-list\"},_vm._l((_vm.policy.items),function(item){return _c('div',{key:item.value,staticClass:\"name-list__item\",attrs:{\"title\":item.label},on:{\"click\":function($event){return _vm.handleSelectPolicy(item)}}},[_vm._v(_vm._s(item.label))])}),0)]),_c('el-dialog',{attrs:{\"title\":\"选择人群\",\"append-to-body\":\"\",\"visible\":_vm.showCrowdSelector,\"before-close\":_vm.handleSelectCrowdCancel}},[(!_vm.hasCascadeTag)?_c('div',{staticClass:\"name-list\"},_vm._l((_vm.crowd.items),function(item){return _c('div',{key:item.value,staticClass:\"name-list__item\",attrs:{\"title\":item.label},on:{\"click\":function($event){return _vm.handleSelectCrowd(item)}}},[_vm._v(_vm._s(item.label))])}),0):_c('div',[_c('el-cascader',{attrs:{\"options\":_vm.crowd.cascadeItems,\"filterable\":\"\",\"expandTrigger\":'hover',\"disabled\":_vm.crowd.cascadeItems.length === 0,\"placeholder\":_vm.crowd.cascadeItems.length > 0 ? '请选择' : '无人群数据',\"change-on-select\":\"\"},model:{value:(_vm.selectedCascaderCrowd),callback:function ($$v) {_vm.selectedCascaderCrowd=$$v},expression:\"selectedCascaderCrowd\"}}),_c('el-button',{attrs:{\"disabled\":!_vm.selectedCascaderCrowd,\"type\":\"primary\"},on:{\"click\":_vm.handleSelectCascadeCrowd}},[_vm._v(\"确定\")])],1)])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"remote-selector-wrapper\">\n    <div @click=\"handleSelectStart\">\n      <slot>\n         <el-button type=\"primary\" :disabled=\"disabled\" plain > {{ title || '选择人群' }}</el-button>\n      </slot>\n    </div>\n    <div class=\"crowd-selector\">\n      <el-dialog\n        title=\"选择策略\"\n        :visible=\"showPolicySelector\"\n        append-to-body\n        :before-close=\"handleClose\"\n      >\n        <div class=\"name-list\">\n          <div\n            v-for=\"item in policy.items\"\n            class=\"name-list__item\"\n            @click=\"handleSelectPolicy(item)\"\n            :title=\"item.label\"\n            :key=\"item.value\"\n          >{{ item.label }}</div>\n        </div>\n      </el-dialog>\n\n      <el-dialog\n        title=\"选择人群\"\n        append-to-body\n        :visible=\"showCrowdSelector\"\n        :before-close=\"handleSelectCrowdCancel\"\n      >\n        <div v-if=\"!hasCascadeTag\" class=\"name-list\">\n          <div\n            v-for=\"item in crowd.items\"\n            class=\"name-list__item\"\n            @click=\"handleSelectCrowd(item)\"\n            :title=\"item.label\"\n            :key=\"item.value\"\n          >{{ item.label }}</div>\n        </div>\n        <div v-else>\n          <el-cascader\n            :options=\"crowd.cascadeItems\"\n            filterable\n            :expandTrigger=\"'hover'\"\n            v-model=\"selectedCascaderCrowd\"\n            :disabled=\"crowd.cascadeItems.length === 0\"\n            :placeholder=\"crowd.cascadeItems.length > 0 ? '请选择' : '无人群数据'\"\n            change-on-select\n          ></el-cascader>\n          <el-button\n            :disabled=\"!selectedCascaderCrowd\"\n            type=\"primary\"\n            @click=\"handleSelectCascadeCrowd\"\n          >确定</el-button>\n        </div>\n      </el-dialog>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      hasCascadeTag: false,\n      showPolicySelector: false,\n      showCrowdSelector: false,\n      selectedPolicy: undefined,\n      selectedCrowd: undefined,\n      selectedCascaderCrowd: undefined,\n      policy: {\n        pagination: {},\n        items: []\n      },\n      crowd: {\n        pagination: {},\n        items: [],\n        cascadeItems: []\n      }\n    }\n  },\n  props: ['selectedPolicyId', 'selectedCrowdId', 'title', 'disabled', 'isLive'],\n  methods: {\n    handleSelectStart () {\n      this.$emit('select-start')\n      this.showPolicySelector = true\n      this.$service.getCrowdPolicy().then((result) => {\n        this.policy.items = result\n      })\n    },\n    handleClose () {\n      this.showCrowdSelector = false\n      this.showPolicySelector = false\n      setTimeout(function () {\n        this.$emit('select-cancel')\n      }.bind(this), 20)\n    },\n    handleSelectPolicy (item) {\n      this.selectedPolicy = item\n      this.$service.crowdRelGet({ id: item.value }).then(function (result) {\n        if (!result.hasCascadeTag) {\n          this.$service.getCrowdOfPolicyWithCache({ id: item.value }).then(function (result) {\n            this.hasCascadeTag = false\n            this.crowd.items = result\n            this.showCrowdSelector = true\n          }.bind(this))\n        } else {\n          this.hasCascadeTag = true\n          this.crowd.items = result.crowdRelationship.items || []\n          this.crowd.cascadeItems = this.listToTree(result.crowdRelationship.items)\n          this.showCrowdSelector = true\n        }\n      }.bind(this))\n    },\n    handleSelectCrowd (item) {\n      this.selectedCrowd = item\n      this.selectEnd()\n    },\n    handleSelectCascadeCrowd () {\n      const selectedCrowdValue = this.selectedCascaderCrowd.slice(-1)[0]\n      this.selectedCrowd = this.crowd.items.find(function (item) {\n        return item.value === selectedCrowdValue\n      })\n      this.selectEnd()\n    },\n    handleSelectCrowdCancel () {\n      this.showCrowdSelector = false\n    },\n    selectEnd () {\n      this.$emit('select-end', this.selectedPolicy, this.selectedCrowd)\n      this.showCrowdSelector = false\n      this.showPolicySelector = false\n    },\n    listToTree (data, options) {\n      data = JSON.parse(JSON.stringify(data))\n      options = options || {}\n      var ID_KEY = options.idKey || 'value'\n      var PARENT_KEY = options.parentKey || 'parentValue'\n      var CHILDREN_KEY = options.childrenKey || 'children'\n\n      var tree = []; var childrenOf = {}\n      var item, id, parentId\n\n      for (var i = 0, length = data.length; i < length; i++) {\n        item = data[i]\n        id = item[ID_KEY]\n        parentId = item[PARENT_KEY] || 0\n        // every item may have children\n        childrenOf[id] = childrenOf[id] || []\n        // init its children\n        item[CHILDREN_KEY] = childrenOf[id]\n        // eslint-disable-next-line\n        if (parentId != 0) {\n          // init its parent's children object\n          childrenOf[parentId] = childrenOf[parentId] || []\n          // push it into its parent's children object\n          childrenOf[parentId].push(item)\n        } else {\n          tree.push(item)\n        }\n      };\n\n      /*\n      data.forEach(function(item) {\n        if (item.children.length === 0) {\n          item.children = undefined\n        }\n      })\n      */\n\n      return tree\n    }\n  }\n}\n</script>\n<style scoped>\n.name-list__item {\n    display: inline-block;\n    width: 100px;\n    border: 1px solid #ddd;\n    padding: 5px;\n    margin: 5px;\n    cursor: pointer;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    vertical-align: top;\n}\n.name-list__item.active,\n.name-list__item:hover {\n    color: #fff;\n    background: #20a0ff;\n    border-color: #20a0ff;\n}\n.crowd-selector .el-cascader {\n    width: 600px;\n    margin-right: 10px;\n}\n.crowd-selector .el-cascader .el-input {\n    max-width: 600px;\n}\n.el-cascader {\n  margin-right: 10px\n}\n.el-cascader >>> .el-input__inner {\n  width: 300px;\n}\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DmpSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DmpSelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DmpSelector.vue?vue&type=template&id=2b881a5c&scoped=true&\"\nimport script from \"./DmpSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./DmpSelector.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DmpSelector.vue?vue&type=style&index=0&id=2b881a5c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2b881a5c\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <ContentCard :title=\"title\" @go-back=\"$emit('go-back')\">\n    <CommonContent :mode=\"mode\">\n      <div slot=\"auditAndDraft\" class=\"actions\">\n        <el-button type=\"primary\" @click=\"handleSave\">\n          保存\n        </el-button>\n      </div>\n      <DataForm ref=\"form\" :readonly=\"mode === 'read'\" :model=\"form\" label-width=\"120px\">\n        <DataEnum\n          label=\"内容源\"\n          :rules=\"rules.source\"\n          prop=\"source\"\n          type=\"radio\"\n          :value=\"form.source\"\n          @input=\"handleChangeSource\"\n          :options=\"$consts.sourceOptions\"/>\n        <DataString label=\"任务名称\" :rules=\"rules.taskName\" prop=\"taskName\" v-model=\"form.taskName\" />\n        <DataAny label=\"版面\" :rules=\"rules.tabId\" prop=\"tabId\" >\n          <div slot=\"edit\">\n            <TabSelector :source=\"form.source\" selection-type=\"single\" @select-end=\"handleSelectTabEnd\" />\n            <span v-if=\"form.tabId\">\n              已选择: {{ form.tabId }}\n            </span>\n          </div>\n          <div slot=\"read\">\n            {{ form.tabId }}\n          </div>\n        </DataAny>\n        <DataAny\n          label=\"强插位置\"\n          :rules=\"rules.insertIndex\"\n          prop=\"insertIndex\">\n          <InputPositiveInt slot=\"edit\" v-model=\"form.insertIndex\" />\n          <span slot=\"read\"> {{ form.insertIndex }}</span>\n        </DataAny>\n        <DataAny\n          label=\"定向人群\"\n          :rules=\"rules.dmpRegistryInfo\"\n          prop=\"dmpRegistryInfo.dmpCrowdId\"\n          v-model=\"form.dmpRegistryInfo\">\n          <div slot=\"edit\">\n            <DmpSelector @select-end=\"handleSelectCrowdEnd\"></DmpSelector>\n            <span v-if=\"form.dmpRegistryInfo.dmpCrowdId\">\n              已选择: {{ form.dmpRegistryInfo.dmpPolicyName }}({{ form.dmpRegistryInfo.dmpPolicyId }})/{{ form.dmpRegistryInfo.dmpCrowdName }}({{ form.dmpRegistryInfo.dmpCrowdId }})\n            </span>\n          </div>\n          <div slot=\"read\">\n            {{ form.dmpRegistryInfo.dmpPolicyName }}({{ form.dmpRegistryInfo.dmpPolicyId }})/{{ form.dmpRegistryInfo.dmpCrowdName }}({{ form.dmpRegistryInfo.dmpCrowdId }})\n          </div>\n        </DataAny>\n      </DataForm>\n    </CommonContent>\n  </ContentCard>\n</template>\n<script>\nimport { components } from 'admin-base'\nimport TabSelector from '@/components/selectors/TabSelector'\nimport DmpSelector from '@/components/selectors/DmpSelector'\nimport CommonContent from '@/components/CommonContent'\nimport InputPositiveInt from '@/components/InputPositiveInt'\nimport { cloneDeep } from 'lodash'\nexport default {\n  extends: components.ResourceBaseContent,\n  components: {\n    TabSelector,\n    DmpSelector,\n    CommonContent,\n    InputPositiveInt\n  },\n  data () {\n    return {\n      resourceName: '版面强插任务',\n      form: {\n        source: this.$consts.sourceOptions[0].value,\n        taskName: undefined,\n        tabId: undefined,\n        insertIndex: undefined,\n        dmpRegistryInfo: { }\n      },\n      rules: {\n        source: [{ required: true, message: '请输入内容源', trigger: 'blur' }],\n        taskName: [\n          { required: true, message: '请输入任务名称', trigger: 'blur' },\n          { max: 45, message: '长度不能超过 45 个字符', trigger: 'blur' }\n        ],\n        tabId: [{ required: true, message: '请输入版面', trigger: 'blur' }],\n        insertIndex: [\n          { required: true, message: '请输入强插位置', trigger: 'blur' }\n        ],\n        dmpRegistryInfo: [\n          { required: true, message: '请选择人群', trigger: 'blur' }\n        ]\n      }\n    }\n  },\n  methods: {\n    handleChangeSource (val) {\n      const form = this.form\n      form.source = val\n      form.tabId = undefined\n    },\n    handleSelectTabEnd (tabInfo) {\n      this.form.tabId = tabInfo.tabId\n    },\n    handleSelectCrowdEnd (policy, crowd) {\n      this.form.dmpRegistryInfo = {\n        dmpPolicyId: policy.value,\n        dmpCrowdId: crowd.value,\n        dmpPolicyName: policy.label,\n        dmpCrowdName: crowd.label\n      }\n    },\n    validate (data, cb) {\n      this.$refs.form.$refs.form.validate((valid) => {\n        if (valid) {\n          cb()\n        } else {\n          this.$message.error('请把表单填写完整')\n        }\n      })\n    },\n    parseDataToApi (data) {\n\n    },\n    handleSave () {\n      const data = this.$utils.cloneDeep(this.form)\n      this.validate(data, () => {\n        this.$confirm('保存后不可修改，确定要保存?', '提示')\n          .then(() => {\n            this.$service.tabInsertionTaskUpsert(data, '保存成功').then(() => {\n              this.$emit('upsert-end')\n            })\n          })\n          .catch(() => {})\n      })\n    },\n    setTabInsertionTask (data) {\n      this.form = cloneDeep(data)\n    },\n    fetchData () {\n      this.$service.tabInsertionTaskGetDetail({ id: this.id }).then(data => {\n        this.setTabInsertionTask(data)\n      })\n    }\n  },\n  created () {\n    this.mode = this.initMode\n    if (this.id) {\n      this.fetchData(this.version)\n    }\n  }\n}\n</script>\n<style lang=\"stylus\" scoped>\n.actions\n  margin-bottom 10px\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabInsertionTaskContent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabInsertionTaskContent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TabInsertionTaskContent.vue?vue&type=template&id=363e735e&scoped=true&\"\nimport script from \"./TabInsertionTaskContent.vue?vue&type=script&lang=js&\"\nexport * from \"./TabInsertionTaskContent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TabInsertionTaskContent.vue?vue&type=style&index=0&id=363e735e&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"363e735e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ContentCard',[_c('ListLayout',{attrs:{\"pagination\":_vm.pagination},on:{\"pagingation-change\":_vm.fetchData}},[_c('el-form',{attrs:{\"slot\":\"filter\",\"inline\":true},slot:\"filter\"},[_c('el-form-item',[_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"开启状态\"},model:{value:(_vm.filter.enableTask),callback:function ($$v) {_vm.$set(_vm.filter, \"enableTask\", $$v)},expression:\"filter.enableTask\"}},_vm._l((_vm.taskStatusOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_c('el-form-item',[_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"内容源\"},model:{value:(_vm.filter.source),callback:function ($$v) {_vm.$set(_vm.filter, \"source\", $$v)},expression:\"filter.source\"}},_vm._l((_vm.$consts.sourceOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleFilter}},[_vm._v(\"查询\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleResetFilter}},[_vm._v(\"重置\")])],1),_c('ActionList',{attrs:{\"slot\":\"actions\",\"actions\":[\n      {\n        label: '新建',\n        value: 'create',\n        type: 'primary'\n      }]},on:{\"create\":_vm.handleCreate,\"edit\":_vm.handleEdit,\"delete\":_vm.handleDelete},slot:\"actions\"}),_c('Table',{attrs:{\"slot\":\"table\",\"props\":_vm.table.props,\"header\":_vm.table.header,\"data\":_vm.table.data,\"selected\":_vm.table.selected,\"selection-type\":_vm.table.selectionType,\"select-on-row-click\":true},on:{\"row-selection-add\":_vm.handleRowSelectionAdd,\"row-selection-remove\":_vm.handleRowSelectionRemove,\"all-row-selection-change\":_vm.handleAllRowSelectionChange},slot:\"table\"})],1),_c('el-dialog',{attrs:{\"visible\":_vm.showEnableTaskDialog,\"append-to-body\":true,\"width\":\"400px\"},on:{\"update:visible\":function($event){_vm.showEnableTaskDialog=$event}}},[_c('el-form',{ref:\"taskStatusForm\",attrs:{\"model\":_vm.taskInfo,\"rules\":_vm.taskInfoRules}},[_c('el-form-item',{attrs:{\"prop\":\"aliveTime\"}},[_vm._v(\"\\n        任务持续时间\\n        \"),_c('div',{staticClass:\"display-inline-block\"},[_c('InputPositiveInt',{model:{value:(_vm.taskInfo.aliveTime),callback:function ($$v) {_vm.$set(_vm.taskInfo, \"aliveTime\", _vm._n($$v))},expression:\"taskInfo.aliveTime\"}})],1),_vm._v(\"\\n        小时\\n        \"),_c('p',[_vm._v(\"开启 24 小时即可覆盖 65% 用户, 建议不要超过 168 小时\")])]),_c('el-button',{staticClass:\"h-center\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleUpsertTaskStatus}},[_vm._v(\"确定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._t(\"top\"),_c('div',{staticClass:\"list-layout-filter-form\"},[_vm._t(\"filter\")],2),(_vm.$slots.actions)?_c('div',{staticClass:\"list-layout-actions\"},[_vm._t(\"actions\")],2):_vm._e(),_c('div',{staticClass:\"list-layout-table\"},[_vm._t(\"table\")],2),_c('div',{staticClass:\"list-layout-pagination\"},[_vm._t(\"pagination\",[(_vm.pagination)?_c('el-pagination',{attrs:{\"current-page\":_vm.pagination.currentPage,\"page-sizes\":[15, 20, 30, 50, 100, 200],\"page-size\":_vm.pagination.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.pagination.total},on:{\"size-change\":_vm.handlePageSizeChange,\"current-change\":_vm.handlePageChange}}):_vm._e()])],2),_vm._t(\"bottom\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <slot name=\"top\"></slot>\n    <div class=\"list-layout-filter-form\">\n      <slot name=\"filter\"></slot>\n    </div>\n\n    <div v-if=\"$slots.actions\" class=\"list-layout-actions\">\n      <slot name=\"actions\"></slot>\n    </div>\n\n    <div class=\"list-layout-table\">\n      <slot name=\"table\"></slot>\n    </div>\n\n    <div class=\"list-layout-pagination\">\n      <slot name=\"pagination\">\n        <el-pagination\n            v-if=\"pagination\"\n            @size-change=\"handlePageSizeChange\"\n            @current-change=\"handlePageChange\"\n            :current-page=\"pagination.currentPage\"\n            :page-sizes=\"[15, 20, 30, 50, 100, 200]\"\n            :page-size=\"pagination.pageSize\"\n            layout=\"total, sizes, prev, pager, next, jumper\"\n            :total=\"pagination.total\">\n        </el-pagination>\n      </slot>\n    </div>\n    <slot name=\"bottom\"></slot>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: ['pagination'],\n  methods: {\n    handlePageSizeChange (pageSize) {\n      this.pagination.pageSize = pageSize\n      this.$emit('pagingation-change')\n    },\n    handlePageChange (page) {\n      this.pagination.currentPage = page\n      this.$emit('pagingation-change')\n    }\n  }\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n.list-layout-actions\n  margin-bottom 20px\n.list-layout-pagination\n  margin-top 20px\n  >>> .el-pagination\n    display flex\n    flex-diraction row\n  >>> .el-pagination__total\n    margin-right auto\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListLayout.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListLayout.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ListLayout.vue?vue&type=template&id=3379e9d6&scoped=true&\"\nimport script from \"./ListLayout.vue?vue&type=script&lang=js&\"\nexport * from \"./ListLayout.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ListLayout.vue?vue&type=style&index=0&id=3379e9d6&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3379e9d6\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',_vm._l((_vm.actions || _vm.defaultAction),function(item,index){return _c('el-button',{key:index,attrs:{\"type\":item.type},on:{\"click\":function($event){return _vm.$emit(item.value, $event)}}},[_vm._v(\"\\n    \"+_vm._s(item.label)+\"\\n  \")])}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <el-button\n      v-for=\"(item, index) in actions || defaultAction\"\n      :key=\"index\"\n      :type=\"item.type\"\n      @click=\"$emit(item.value, $event)\">\n      {{ item.label }}\n    </el-button>\n  </div>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      defaultAction: [\n        {\n          label: '新建',\n          value: 'create',\n          type: 'primary'\n        },\n        {\n          label: '编辑',\n          value: 'edit',\n          type: 'primary'\n        },\n        {\n          label: '删除',\n          value: 'delete',\n          type: 'danger'\n        }\n      ]\n    }\n  },\n  props: ['actions']\n}\n</script>\n\n<style>\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActionList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActionList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ActionList.vue?vue&type=template&id=f061fec2&\"\nimport script from \"./ActionList.vue?vue&type=script&lang=js&\"\nexport * from \"./ActionList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <ContentCard>\n    <ListLayout\n      :pagination=\"pagination\"\n      @pagingation-change=\"fetchData\">\n      <el-form :inline=\"true\"  slot=\"filter\">\n        <el-form-item >\n          <el-select v-model=\"filter.enableTask\" clearable placeholder=\"开启状态\">\n            <el-option\n              v-for=\"item in taskStatusOptions\"\n              :label=\"item.label\"\n              :value=\"item.value\"\n              :key=\"item.value\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item >\n          <el-select v-model=\"filter.source\" clearable placeholder=\"内容源\">\n            <el-option\n              v-for=\"item in $consts.sourceOptions\"\n              :label=\"item.label\"\n              :value=\"item.value\"\n              :key=\"item.value\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-button type=\"primary\" @click=\"handleFilter\">查询</el-button>\n        <el-button type=\"primary\" @click=\"handleResetFilter\">重置</el-button>\n      </el-form>\n      <ActionList\n        slot=\"actions\"\n        :actions=\"[\n        {\n          label: '新建',\n          value: 'create',\n          type: 'primary'\n        }]\"\n        @create=\"handleCreate\"\n        @edit=\"handleEdit\"\n        @delete=\"handleDelete\"\n       />\n      <Table\n        slot=\"table\"\n        :props=\"table.props\"\n        :header=\"table.header\"\n        :data=\"table.data\"\n        :selected=\"table.selected\"\n        :selection-type=\"table.selectionType\"\n        :select-on-row-click=\"true\"\n        @row-selection-add=\"handleRowSelectionAdd\"\n        @row-selection-remove=\"handleRowSelectionRemove\"\n        @all-row-selection-change=\"handleAllRowSelectionChange\" />\n    </ListLayout>\n    <el-dialog\n      :visible.sync=\"showEnableTaskDialog\"\n      :append-to-body=\"true\"\n      width=\"400px\">\n      <el-form :model=\"taskInfo\" :rules=\"taskInfoRules\" ref=\"taskStatusForm\">\n        <el-form-item prop=\"aliveTime\">\n          任务持续时间\n          <div class=\"display-inline-block\">\n            <InputPositiveInt v-model.number=\"taskInfo.aliveTime\" />\n          </div>\n          小时\n          <p>开启 24 小时即可覆盖 65% 用户, 建议不要超过 168 小时</p>\n        </el-form-item>\n        <el-button class=\"h-center\" type=\"primary\" @click=\"handleUpsertTaskStatus\">确定</el-button>\n      </el-form>\n    </el-dialog>\n  </ContentCard>\n</template>\n<script>\nimport { components } from 'admin-base'\nimport { Table } from 'admin-toolkit'\nimport ListLayout from '@/components/ListLayout'\nimport ActionList from '@/components/ActionList'\nimport InputPositiveInt from '@/components/InputPositiveInt'\nimport { cloneDeep } from 'lodash'\nexport default {\n  extends: components.ResourceBaseList,\n  components: {\n    Table,\n    ActionList,\n    ListLayout,\n    InputPositiveInt\n  },\n  data () {\n    return {\n      taskStatusOptions: [\n        {\n          label: '开启',\n          value: 1\n        },\n        {\n          label: '关闭',\n          value: 0\n        }\n      ],\n      filter: this.genDefaultFilter(),\n      effictientFilter: this.genDefaultFilter(),\n      selected: [],\n      table: {\n        props: {},\n        selected: [],\n        selectionType: 'multiple',\n        header: [\n          {\n            prop: 'taskId',\n            label: '任务ID'\n          },\n          {\n            prop: 'taskName',\n            label: '任务名称',\n            render: (h, { row }) => {\n              return <el-button type=\"text\" onClick={() => this.handleRead(row)}>{ row.taskName }</el-button>\n            }\n          },\n          {\n            prop: 'source',\n            label: '内容源',\n            render: (h, { row }) => {\n              return this.$consts.sourceText[row.source]\n            }\n          },\n          {\n            prop: 'tabName',\n            label: '版面'\n          },\n          {\n            prop: 'insertIndex',\n            label: '强插位置'\n          },\n          {\n            prop: 'aliveTime',\n            label: '任务持续时间',\n            render: (h, { row }) => {\n              if (row.enableTask) {\n                return row.aliveTime + '小时'\n              }\n            }\n          },\n          {\n            prop: 'endTime',\n            label: '距离结束时间',\n            render: (h, { row }) => {\n              if (row.enableTask) {\n                return row.endTime + '小时'\n              }\n            }\n          },\n          {\n            label: '是否开启',\n            prop: 'enableTask',\n            render: (h, { row }) => {\n              return h('el-switch', {\n                props: {\n                  value: !!row.enableTask\n                },\n                nativeOn: {\n                  click (event) {\n                    event.stopPropagation()\n                  }\n                },\n                on: {\n                  input: (val) => {\n                    this.handleToggleTask(row, val)\n                  }\n                }\n              })\n            }\n          }\n        ],\n        data: [\n        ]\n      },\n      pagination: {\n        currentPage: 1,\n        total: 0\n      },\n      showEnableTaskDialog: false,\n      taskInfo: {},\n      taskInfoRules: {\n        aliveTime: [\n          { required: true, message: '请填入任务持续时间' }\n        ]\n      }\n    }\n  },\n  methods: {\n    genTaskInfo ({ taskId, enableTask, aliveTime }) {\n      return {\n        taskId,\n        aliveTime,\n        enableTask\n      }\n    },\n    genDefaultFilter () {\n      return {\n        enableTask: undefined,\n        source: undefined\n      }\n    },\n    handleFilter () {\n      this.pagination.currentPage = 1\n      this.effictientFilter = cloneDeep(this.filter)\n      this.fetchData()\n    },\n    handleResetFilter () {\n      this.pagination.currentPage = 1\n      this.filter = this.genDefaultFilter()\n      this.effictientFilter = this.genDefaultFilter()\n      this.fetchData()\n    },\n    getFilter () {\n      const pagination = this.pagination\n      const filter = cloneDeep(this.effictientFilter)\n      if (pagination) {\n        filter.page = pagination.currentPage\n        filter.rows = pagination.pageSize\n      }\n      return filter\n    },\n    fetchData () {\n      const filter = this.getFilter()\n      this.$service.tabInsertionTaskGetList(filter).then(data => {\n        this.pagination.total = data.total\n        this.table.data = data.rows\n      })\n    },\n    handleToggleTask (row, enableTask) {\n      enableTask = enableTask ? 1 : 0\n      this.taskInfo = this.genTaskInfo({ taskId: row.taskId, aliveTime: row.aliveTime, enableTask })\n      if (enableTask) {\n        this.showEnableTaskDialog = true\n      } else {\n        this.handleUpsertTaskStatus()\n      }\n    },\n    handleUpsertTaskStatus () {\n      const taskInfo = this.taskInfo\n      const enableTask = taskInfo.enableTask\n      const doUpsert = () => {\n        const task = this.table.data.find(({ taskId }) => taskId === taskInfo.taskId)\n        task.enableTask = enableTask\n        if (enableTask) {\n          task.aliveTime = taskInfo.aliveTime\n          task.endTime = taskInfo.aliveTime\n        }\n        return this.$service.tabInsertionTaskStatusUpsert(taskInfo, '操作成功').catch(() => {\n          task.enableTask = !enableTask\n        })\n      }\n      if (enableTask) {\n        this.$refs.taskStatusForm.validate((valid) => {\n          if (valid) {\n            doUpsert().then(() => {\n              this.showEnableTaskDialog = false\n            })\n          } else {\n            this.$message.error('请把表单填写完整')\n          }\n        })\n      } else {\n        doUpsert()\n      }\n    }\n  },\n  created () {\n    this.fetchData()\n  }\n}\n</script>\n<style lang=\"stylus\" scoped>\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabInsertionTaskList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabInsertionTaskList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TabInsertionTaskList.vue?vue&type=template&id=4b9b1d54&scoped=true&\"\nimport script from \"./TabInsertionTaskList.vue?vue&type=script&lang=js&\"\nexport * from \"./TabInsertionTaskList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4b9b1d54\",\n  null\n  \n)\n\nexport default component.exports","<script>\nimport { components } from 'admin-base'\nimport ResourceContent from './TabInsertionTaskContent'\nimport ResourceList from './TabInsertionTaskList'\nexport default {\n  extends: components.ResourceBaseIndex,\n  components: {\n    TabPage: components.TabPage,\n    ResourceList,\n    ResourceContent\n  },\n  data () {\n    return {\n      idField: 'taskId'\n    }\n  },\n  computed: {\n    listProps () {\n      return {}\n    },\n    contentProps () {\n      return {}\n    },\n    resourceInfo () {\n      return {\n      }\n    }\n  }\n}\n</script>\n<style lang=\"stylus\" scoped>\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabInsertionTaskIndex.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabInsertionTaskIndex.vue?vue&type=script&lang=js&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListLayout.vue?vue&type=style&index=0&id=3379e9d6&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListLayout.vue?vue&type=style&index=0&id=3379e9d6&lang=stylus&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabInsertionTaskContent.vue?vue&type=style&index=0&id=363e735e&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabInsertionTaskContent.vue?vue&type=style&index=0&id=363e735e&lang=stylus&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DmpSelector.vue?vue&type=style&index=0&id=2b881a5c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DmpSelector.vue?vue&type=style&index=0&id=2b881a5c&scoped=true&lang=css&\""],"sourceRoot":""}