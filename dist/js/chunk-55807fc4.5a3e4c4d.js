(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-55807fc4"],{"2ad5":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ab-tab-page-wrapper",{attrs:{active:e.activePage}},[a("ab-tab-page",{attrs:{name:"default"}},[a("ContentCard",{attrs:{title:"版块个性化推荐反馈"},on:{"go-back":function(t){return e.$emit("go-back")}}},[a("span",{attrs:{slot:"actions"},slot:"actions"}),a("div",[a("el-form",{staticClass:"filter",attrs:{inline:!0},nativeOn:{submit:function(e){e.preventDefault()},keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.$refs.submit.$el.click())}}},[a("el-form-item",[a("el-date-picker",{attrs:{type:"date",clearable:!1,placeholder:"日期"},model:{value:e.filter.dayTime,callback:function(t){e.$set(e.filter,"dayTime",t)},expression:"filter.dayTime"}})],1),a("el-form-item",[a("InputPositiveInt",{attrs:{name:"tabId",autocomplete:"on",clearable:"",placeholder:"版面 ID"},model:{value:e.filter.tabId,callback:function(t){e.$set(e.filter,"tabId",t)},expression:"filter.tabId"}})],1),a("el-button",{ref:"submit",attrs:{type:"primary","native-type":"submit"},on:{click:e.fetchData}},[e._v("查询")])],1),a("div",[!0===e.table.isNoData?a("div",{staticClass:"tip-empty"},[a("p",[e._v("该版面在那天没有版块个性化数据")]),a("p",{staticClass:"tip-how"},[e._v("至少一天之内起始位置不变才能有数据")])]):!1===e.table.isNoData?a("div",[a("p",{staticClass:"tab-info"},[e._v("\n              "+e._s(e.tabInfo.tabName)+" ("+e._s(e.tabInfo.tabId)+") : "+e._s(e.parseTime(e.filter.dayTime))+"  推荐流从第 "+e._s(e.tabInfo.recommendIndex)+" 开始\n              ")]),a("Table",{attrs:{props:e.table.props,header:e.table.header,data:e.table.data,selected:e.table.selected,"selection-type":e.table.selectionType}})],1):e._e()])],1)])],1),a("ab-tab-page",{attrs:{name:"panel-preview"}},[e.panelPreview.id?a("PanelInfo",{attrs:{"title-prefix":"版块个性化推荐反馈","init-mode":e.panelPreview.initMode,id:e.panelPreview.id,version:e.panelPreview.version},on:{"upsert-end":e.handlePreviewPanelEnd,"go-back":e.handlePreviewPanelEnd}}):e._e()],1)],1)},i=[],r=a("cebc"),l=a("59c7"),o=a("2ef0"),s=a("43f4"),c=a("2149"),p={components:{Table:l["Table"],PanelInfo:s["a"],InputPositiveInt:c["a"]},data:function(){var e=this;this.$createElement;return{activePage:"default",panelPreview:{initMode:"read",id:void 0,version:void 0},filter:{tabId:void 0,dayTime:(new Date).toISOString()},pagination:{currentPage:1},table:{props:{},data:[],isNoData:void 0,header:[{label:"版块ID",prop:"panelId",render:function(t,a){var n=a.row;return t("el-button",{attrs:{type:"text"},on:{click:function(){return e.handlePreviewPanel(n)}}},[n.panelId])}},{label:"版块名称",prop:"panelName",render:function(t,a){var n=a.row;return t("el-button",{attrs:{type:"text"},on:{click:function(){return e.handlePreviewPanel(n)}}},[n.panelName])}},{label:"曝光次数",prop:"pvNum"},{label:"点击次数",prop:"clickNum"},{label:"PVCTR",prop:"pvctr"},{label:"曝光次数排名",prop:"pvRank"},{label:"PVCTR排名",prop:"pvctrRank"}],selectionType:"none",selected:[]},tabInfo:{tabId:void 0,tabName:void 0,recommendIndex:void 0}}},methods:{handlePreviewPanel:function(e){var t=this.panelPreview;t.id=e.panelId,t.version=e.panelVersion,this.activePage="panel-preview"},handlePreviewPanelEnd:function(){var e=this.panelPreview;e.id=void 0,e.version=void 0,this.activePage="default"},handleExport:function(){this.$message.error("导出接口还没做好")},parseTime:function(e){var t=new Date(e),a=t.getFullYear(),n=t.getMonth()+1,i=t.getDate(),r=a+"-"+(n<10?"0".concat(n):n)+"-"+(i<10?"0".concat(i):i);return r},fetchData:function(){var e=this,t=Object(o["cloneDeep"])(this.filter);if(t.dayTime=this.parseTime(t.dayTime),!t.tabId)return this.$message.error("请输入版面 id");this.$service.getPanelRecommandFeedback(t).then(function(t){var a=t.total,n=t.rows,i=t.extra;e.pagination.total=a,e.tabInfo=Object(r["a"])({},e.tabInfo,i),e.table.data=n,e.table.isNoData=0===n.length})}}},d=p,v=(a("4020"),a("2877")),b=Object(v["a"])(d,n,i,!1,null,"214b7ce2",null);t["default"]=b.exports},4020:function(e,t,a){"use strict";var n=a("5071"),i=a.n(n);i.a},5071:function(e,t,a){}}]);
//# sourceMappingURL=chunk-55807fc4.5a3e4c4d.js.map