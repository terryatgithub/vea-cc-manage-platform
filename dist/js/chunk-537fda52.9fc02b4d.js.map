{"version":3,"sources":["webpack:///./src/views/topicConfig/Detail.vue?b8a9","webpack:///./src/components/form/String.vue?dc47","webpack:///src/components/form/String.vue","webpack:///./src/components/form/String.vue?47e6","webpack:///./src/components/form/String.vue","webpack:///./src/components/form/Enum.vue?0930","webpack:///src/components/form/Enum.vue","webpack:///./src/components/form/Enum.vue?6f0a","webpack:///./src/components/form/Enum.vue","webpack:///./src/components/form/Any.vue?37b9","webpack:///src/components/form/Any.vue","webpack:///./src/components/form/Any.vue?05cd","webpack:///./src/components/form/Any.vue","webpack:///./src/views/topicConfig/Index.vue","webpack:///./src/views/topicConfig/Detail.vue?9a24","webpack:///src/views/topicConfig/Detail.vue","webpack:///./src/views/topicConfig/Detail.vue?dc04","webpack:///./src/views/topicConfig/Detail.vue","webpack:///./src/views/topicConfig/List.vue?5864","webpack:///src/views/topicConfig/List.vue","webpack:///./src/views/topicConfig/List.vue?eab3","webpack:///./src/views/topicConfig/List.vue","webpack:///src/views/topicConfig/Index.vue","webpack:///./src/views/topicConfig/Index.vue?1126","webpack:///./src/components/form/DataForm.vue","webpack:///src/components/form/DataForm.vue","webpack:///./src/components/form/DataForm.vue?8b57","webpack:///./src/components/form/formItemMixin.js"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Detail_vue_vue_type_style_index_0_id_1c3517a0_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Detail_vue_vue_type_style_index_0_id_1c3517a0_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","attrs","label","prop","rules","isReadonly","_v","_s","value","on","input","$event","$emit","change","staticRenderFns","Stringvue_type_script_lang_js_","mixins","formItemMixin","data","form_Stringvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","getLabel","type","disabled","handleInputVal","_l","item","key","placeholder","filterable","allow-create","allowCreate","_t","Enumvue_type_script_lang_js_","props","methods","val","options","selected","find","_ref","title","content","_this","confirm","$confirm","then","catch","form_Enumvue_type_script_lang_js_","Anyvue_type_script_lang_js_","form_Anyvue_type_script_lang_js_","Index_render","Index_staticRenderFns","go-back","mode","resource-info","resourceInfo","replicate","edit","unaudit","shelves","fetchData","audit","copy","handleCopy","submit-audit","handleSubmitAudit","save-draft","handleSaveDraft","select-version","delete","ref","readonly","model","topic","label-width","staticClass","callback","$$v","$set","expression","$consts","sourceOptions","slot","disable-partner","source","selectors","selection-type","select-end","handleSelectVideoTopicEnd","plain","header","shortVideoListHeader","hide-action","Detailvue_type_script_lang_js_","components","PageWrapper","PageContentWrapper","ContentCard","CommonContent","GlobalPictureSelector","ResourceSelector","OrderableTable","DataForm","String","form_String","Enum","Any","resourceName","versionList","width","h","row","$index","topicIsFocus","handleSetDefaultFocus","id","undefined","defaultFocusId","topicConfigName","status","currentVersion","duplicateVersion","contentList","computed","menuElId","version","_this2","$service","topicConfigGetDetail","setData","index","forEach","idx","slice","lodash","map","topicId","topicName","handleSelectIcon","img","icon","pictureUrl","handleTopicTypeChange","handleTopicSourceChange","_ref2","shortVideoTopic","idField","selectedList","originSelectList","originSelectedListIndexed","reduce","result","filter","concat","validate","cb","_this3","error","msg","$message","message","$refs","dataForm","form","valid","waiting","length","defaultFocus","_ref3","_this4","iconType","submit","_this5","draft","_this6","topicConfigUpsert","parseDataToApi","created","initMode","topicConfig_Detailvue_type_script_lang_js_","Detail","Listvue_type_template_id_576523a2_scoped_true_render","filterSchema","pagination","filter-change","handleFilterChange","filter-reset","handleFilterReset","pageName","add","handleCreate","handleEdit","handleDelete","table","selectionType","select-on-row-click","row-selection-add","handleRowSelectionAdd","row-selection-remove","handleRowSelectionRemove","all-row-selection-change","handleAllRowSelectionChange","Listvue_type_template_id_576523a2_scoped_true_staticRenderFns","Listvue_type_script_lang_js_","extends","BaseList","Table","admin_toolkit_common","ContentWrapper","ButtonGroupForListPage","resourceType","activePage","click","event","stopPropagation","handleRead","sourceText","statusText","_ref4","fixed","handleOpenContentAuthManager","contentCard","handleShowContentAuthManager","homepageId","currentPage","sort","order","parseFilter","page","rows","pageSize","topicConfigGetList","total","topicConfig_Listvue_type_script_lang_js_","List_component","List","Indexvue_type_script_lang_js_","BaseResourceManager","ResourceList","ResourceContent","topicConfig_Indexvue_type_script_lang_js_","Index_component","DataForm_render","DataFormvue_type_script_lang_js_","provide","objectSpread","$attrs","$slots","default","form_DataFormvue_type_script_lang_js_","inject","Boolean","errors"],"mappings":"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","file":"js/chunk-537fda52.9fc02b4d.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=style&index=0&id=1c3517a0&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=style&index=0&id=1c3517a0&lang=stylus&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form-item',{attrs:{\"label\":_vm.label,\"prop\":_vm.prop,\"rules\":_vm.rules}},[(!_vm.isReadonly)?_c('el-input',{attrs:{\"value\":_vm.value},on:{\"input\":function($event){return _vm.$emit('input', $event)},\"change\":function($event){return _vm.$emit('change', $event)}}}):[_vm._v(\" \"+_vm._s(_vm.value))]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-form-item :label=\"label\" :prop=\"prop\" :rules=\"rules\">\n    <el-input v-if=\"!isReadonly\" :value=\"value\" @input=\"$emit('input', $event)\" @change=\"$emit('change', $event)\" />\n    <template v-else> {{ value }}</template>\n  </el-form-item>\n</template>\n\n<script>\nimport formItemMixin from './formItemMixin'\nexport default {\n  mixins: [formItemMixin],\n  data() {\n    return {\n\n    }\n  }\n}\n</script>\n\n<style>\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./String.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./String.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./String.vue?vue&type=template&id=177c5a7a&\"\nimport script from \"./String.vue?vue&type=script&lang=js&\"\nexport * from \"./String.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form-item',{attrs:{\"label\":_vm.label,\"prop\":_vm.prop,\"rules\":_vm.rules}},[(!_vm.isReadonly)?[(_vm.type === 'radio')?_c('el-radio-group',{attrs:{\"value\":_vm.value,\"disabled\":_vm.disabled},on:{\"input\":_vm.handleInputVal,\"change\":function($event){return _vm.$emit('change', $event)}}},_vm._l((_vm.options),function(item,key){return _c('el-radio',{key:key,attrs:{\"disabled\":item.disabled,\"label\":item.value}},[_vm._v(\"\\n          \"+_vm._s(item.label)+\"\\n        \")])}),1):_c('el-select',{attrs:{\"value\":_vm.value,\"disabled\":_vm.disabled,\"placeholder\":_vm.placeholder || '请选择',\"filterable\":_vm.filterable,\"allow-create\":_vm.allowCreate},on:{\"input\":_vm.handleInputVal,\"change\":function($event){return _vm.$emit('change', $event)}}},_vm._l((_vm.options),function(item,key){return _c('el-option',{key:key,attrs:{\"disabled\":item.disabled,\"label\":item.label,\"value\":item.value}})}),1)]:[_vm._v(\" \"+_vm._s(_vm.getLabel(_vm.value)))],_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-form-item :label=\"label\" :prop=\"prop\" :rules=\"rules\">\n    <template v-if=\"!isReadonly\">\n      <el-radio-group\n        v-if=\"type === 'radio'\"\n        :value=\"value\"\n        @input=\"handleInputVal\"\n        @change=\"$emit('change', $event)\"\n        :disabled=\"disabled\">\n          <el-radio\n            v-for=\"(item, key) in options\"\n            :disabled=\"item.disabled\"\n            :key=\"key\"\n            :label=\"item.value\">\n            {{ item.label }}\n          </el-radio>\n      </el-radio-group>\n\n      <el-select\n        v-else\n        :value=\"value\"\n        @input=\"handleInputVal\"\n        @change=\"$emit('change', $event)\"\n        :disabled=\"disabled\"\n        :placeholder=\"placeholder || '请选择'\"\n        :filterable=\"filterable\"\n        :allow-create=\"allowCreate\">\n        <el-option\n          v-for=\"(item, key) in options\"\n          :disabled=\"item.disabled\"\n          :key=\"key\"\n          :label=\"item.label\"\n          :value=\"item.value\"\n        >\n        </el-option>\n      </el-select>\n    </template>\n\n    <template v-else> {{ getLabel(value) }}</template>\n    <slot></slot>\n  </el-form-item>\n</template>\n\n<script>\nimport formItemMixin from './formItemMixin'\nexport default {\n  mixins: [formItemMixin],\n  data() {\n    return {\n\n    }\n  },\n  props: ['type', 'options', 'filterable', 'allowCreate', 'confirm'],\n  methods: {\n    getLabel(val) {\n      const options = this.options || []\n      const selected = options.find(({ value }) => value === val)\n      if (selected) {\n        return selected.label\n      }\n    },\n    handleInputVal(val) {\n      const confirm = this.confirm\n      if (confirm) {\n        let title\n        let content\n        if (typeof confirm === 'string') {\n          title = '提示'\n          content = confirm\n        } else {\n          title = confirm.title\n          content = confirm.content\n        }\n        this.$confirm(content, title).then(() => {\n          this.$emit('input', val)\n        }).catch(() => {})\n      } else {\n        this.$emit('input', val)\n      }\n    }\n  }\n}\n</script>\n\n<style>\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Enum.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Enum.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Enum.vue?vue&type=template&id=01403864&\"\nimport script from \"./Enum.vue?vue&type=script&lang=js&\"\nexport * from \"./Enum.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form-item',{attrs:{\"label\":_vm.label,\"prop\":_vm.prop,\"rules\":_vm.rules}},[(!_vm.isReadonly)?[_vm._t(\"edit\",[_vm._v(\" \"+_vm._s(_vm.value))])]:[_vm._t(\"read\",[_vm._v(\" \"+_vm._s(_vm.value)+\" \")])]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-form-item :label=\"label\" :prop=\"prop\" :rules=\"rules\">\n    <template v-if=\"!isReadonly\">\n      <slot name=\"edit\"> {{ value }}</slot>\n    </template>\n    <template v-else>\n      <slot name=\"read\"> {{ value }} </slot>\n    </template>\n  </el-form-item>\n</template>\n\n<script>\nimport formItemMixin from './formItemMixin'\nexport default {\n  mixins: [formItemMixin],\n  data() {\n    return {\n\n    }\n  }\n}\n</script>\n\n<style>\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Any.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Any.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Any.vue?vue&type=template&id=f909934c&\"\nimport script from \"./Any.vue?vue&type=script&lang=js&\"\nexport * from \"./Any.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render, staticRenderFns\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('PageWrapper',[_c('PageContentWrapper',[_c('ContentCard',{attrs:{\"title\":_vm.title},on:{\"go-back\":function($event){return _vm.$emit('go-back')}}},[_c('CommonContent',{attrs:{\"mode\":_vm.mode,\"resource-info\":_vm.resourceInfo},on:{\"replicate\":function($event){_vm.mode = 'replicate'},\"edit\":function($event){_vm.mode = 'edit'},\"unaudit\":function($event){return _vm.$emit('upsert-end')},\"shelves\":_vm.fetchData,\"audit\":function($event){return _vm.$emit('upsert-end')},\"copy\":function($event){return _vm.handleCopy($event)},\"submit-audit\":_vm.handleSubmitAudit,\"save-draft\":_vm.handleSaveDraft,\"select-version\":_vm.fetchData,\"delete\":function($event){return _vm.$emit('upsert-end', $event)}}},[_c('DataForm',{ref:\"dataForm\",attrs:{\"readonly\":_vm.mode === 'read',\"model\":_vm.topic,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('div',{staticClass:\"form-legend-header\"},[_c('i',{staticClass:\"el-icon-edit\"},[_vm._v(\"基本信息\")])]),_c('String',{attrs:{\"label\":\"名称\",\"readonly\":true},model:{value:(_vm.topic.topicConfigName),callback:function ($$v) {_vm.$set(_vm.topic, \"topicConfigName\", $$v)},expression:\"topic.topicConfigName\"}}),_c('Enum',{attrs:{\"label\":\"内容源\",\"options\":_vm.$consts.sourceOptions,\"readonly\":true},model:{value:(_vm.topic.source),callback:function ($$v) {_vm.$set(_vm.topic, \"source\", $$v)},expression:\"topic.source\"}}),_c('Any',{attrs:{\"label\":\"话题列表\",\"readonly\":_vm.mode === 'read'}},[_c('div',{attrs:{\"slot\":\"edit\"},slot:\"edit\"},[_c('ResourceSelector',{attrs:{\"disable-partner\":true,\"source\":_vm.topic.source,\"selectors\":['shortVideoTopic'],\"selection-type\":\"multiple\"},on:{\"select-end\":_vm.handleSelectVideoTopicEnd}},[_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\"}},[_vm._v(\"\\n                  选择话题\\n                \")])],1),_c('OrderableTable',{attrs:{\"header\":_vm.shortVideoListHeader},model:{value:(_vm.topic.contentList),callback:function ($$v) {_vm.$set(_vm.topic, \"contentList\", $$v)},expression:\"topic.contentList\"}})],1),_c('div',{attrs:{\"slot\":\"read\"},slot:\"read\"},[_c('OrderableTable',{attrs:{\"readonly\":true,\"hide-action\":true,\"header\":_vm.shortVideoListHeader},model:{value:(_vm.topic.contentList),callback:function ($$v) {_vm.$set(_vm.topic, \"contentList\", $$v)},expression:\"topic.contentList\"}})],1)])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <PageWrapper>\n    <PageContentWrapper>\n      <ContentCard :title=\"title\" @go-back=\"$emit('go-back')\">\n        <CommonContent\n          :mode=\"mode\"\n          :resource-info=\"resourceInfo\"\n          @replicate=\"mode = 'replicate'\"\n          @edit=\"mode = 'edit'\"\n          @unaudit=\"$emit('upsert-end')\"\n          @shelves=\"fetchData\"\n          @audit=\"$emit('upsert-end')\"\n          @copy=\"handleCopy($event)\"\n          @submit-audit=\"handleSubmitAudit\"\n          @save-draft=\"handleSaveDraft\"\n          @select-version=\"fetchData\"\n          @delete=\"$emit('upsert-end', $event)\">\n          <DataForm :readonly=\"mode === 'read'\" ref=\"dataForm\" :model=\"topic\" :rules=\"rules\" label-width=\"100px\">\n            <div class=\"form-legend-header\">\n              <i class=\"el-icon-edit\">基本信息</i>\n            </div>\n            <String label=\"名称\" :readonly=\"true\" v-model=\"topic.topicConfigName\" />\n            <Enum label=\"内容源\" :options=\"$consts.sourceOptions\" :readonly=\"true\" v-model=\"topic.source\" />\n            <Any label=\"话题列表\" :readonly=\"mode === 'read'\">\n              <div slot=\"edit\">\n                <ResourceSelector\n                  :disable-partner=\"true\"\n                  :source=\"topic.source\"\n                  :selectors=\"['shortVideoTopic']\"\n                  selection-type=\"multiple\"\n                  @select-end=\"handleSelectVideoTopicEnd\">\n                  <el-button type=\"primary\" plain>\n                    选择话题\n                  </el-button>\n                </ResourceSelector>\n                <OrderableTable v-model=\"topic.contentList\" :header=\"shortVideoListHeader\" />\n              </div>\n              <div slot=\"read\">\n                <OrderableTable :readonly=\"true\" :hide-action=\"true\" v-model=\"topic.contentList\" :header=\"shortVideoListHeader\" />\n              </div>\n            </Any>\n          </DataForm>\n        </CommonContent>\n      </ContentCard>\n    </PageContentWrapper>\n  </PageWrapper>\n</template>\n\n<script>\nimport PageWrapper from '@/components/PageWrapper'\nimport PageContentWrapper from '@/components/PageContentWrapper'\nimport ContentCard from '@/components/ContentCard'\nimport CommonContent from '@/components/CommonContent'\nimport GlobalPictureSelector from '@/components/selectors/GlobalPictureSelector'\nimport ResourceSelector from '@/components/ResourceSelector/ResourceSelector'\nimport titleMixin from '@/mixins/title'\nimport OrderableTable from '@/components/OrderableTable'\nimport { cloneDeep } from 'lodash'\n\nimport DataForm from '@/components/form/DataForm'\nimport String from '@/components/form/String'\nimport Enum from '@/components/form/Enum'\nimport Any from '@/components/form/Any'\n\nexport default {\n  components: {\n    PageWrapper,\n    PageContentWrapper,\n    ContentCard,\n    CommonContent,\n    GlobalPictureSelector,\n    ResourceSelector,\n    OrderableTable,\n\n    DataForm,\n    String,\n    Enum,\n    Any\n  },\n  mixins: [titleMixin],\n  data() {\n    return {\n      mode: 'create',\n      resourceName: '话题推荐',\n      versionList: [],\n      shortVideoListHeader: [\n        {\n          label: '话题ID',\n          prop: 'id',\n          width: 80\n        },\n        {\n          label: '话题名',\n          prop: 'topicName'\n        },\n        {\n          label: '默认落焦',\n          prop: 'topicIsFocus',\n          render: (h, { row, $index }) => {\n            if (this.mode === 'read') {\n              return row.topicIsFocus ? '是' : ''\n            }\n            return h('el-radio', {\n              props: {\n                label: 1,\n                value: row.topicIsFocus\n              },\n              on: {\n                input: () => {\n                  this.handleSetDefaultFocus($index)\n                }\n              }\n            }, '')\n          }\n        }\n      ],\n      topic: {\n        id: undefined,\n        defaultFocusId: undefined,\n        topicConfigName: '',\n        source: undefined,\n        status: undefined,\n        currentVersion: '',\n        duplicateVersion: undefined,\n        contentList: []\n      },\n      rules: {\n      }\n    }\n  },\n  props: ['initMode', 'id', 'version'],\n  computed: {\n    resourceInfo() {\n      const topic = this.topic\n      if (topic.id) {\n        return {\n          id: topic.id,\n          type: 'topicConfig',\n          menuElId: 'topicConfig',\n          version: topic.currentVersion,\n          status: topic.status\n        }\n      }\n    }\n  },\n  methods: {\n    fetchData(version) {\n      this.$service.topicConfigGetDetail({ id: this.id, version }).then(data => {\n        this.setData(data)\n      })\n    },\n    handleSetDefaultFocus(index) {\n      const contentList = this.topic.contentList\n      contentList.forEach((item, idx) => {\n        if (index === idx) {\n          item.topicIsFocus = 1\n        } else {\n          item.topicIsFocus = 0\n        }\n      })\n      this.topic.contentList = contentList.slice()\n    },\n    setData(data) {\n      data = cloneDeep(data)\n      data.contentList = data.contentList.map(item => {\n        return {\n          id: item.topicId,\n          topicName: item.topicName,\n          topicIsFocus: item.topicIsFocus\n        }\n      })\n\n      this.topic = data\n    },\n    handleSelectIcon(img) {\n      this.topic.icon = img.pictureUrl\n    },\n    handleTopicTypeChange() {\n      this.topic.contentList = []\n    },\n    handleTopicSourceChange() {\n      this.topic.contentList = []\n    },\n    handleSelectVideoTopicEnd({ shortVideoTopic }) {\n      const idField = 'id'\n      const selectedList = shortVideoTopic || []\n      const originSelectList = this.topic.contentList || []\n      const originSelectedListIndexed = originSelectList.reduce((result, item, index) => {\n        result[item[idField]] = index\n        return result\n      }, {})\n      const result = selectedList.filter(function(item) {\n        return originSelectedListIndexed[item[idField]] === undefined\n      })\n\n      // 把新添加都加到后面\n      this.topic.contentList = originSelectList.concat(result)\n    },\n    validate(data, cb) {\n      const error = (msg) => {\n        this.$message({\n          type: 'error',\n          message: msg\n        })\n      }\n      this.$refs.dataForm.$refs.form.validate((valid) => {\n        if (valid) {\n          if (data.status === this.$consts.status.waiting) {\n            if (data.contentList.length === 0) {\n              return error('请选择话题')\n            }\n            const defaultFocus = data.contentList.find(({ topicIsFocus }) => topicIsFocus === 1)\n            if (!defaultFocus) {\n              return error('请设置默认落焦')\n            }\n          }\n          cb()\n        } else {\n          this.$message({\n            type: 'error',\n            message: '请把表单填写完整'\n          })\n        }\n      })\n    },\n    handleSubmitAudit() {\n      const data = cloneDeep(this.topic)\n      data.iconType = undefined\n      data.status = this.$consts.status.waiting\n      this.validate(data, () => {\n        this.submit(data)\n      })\n    },\n    handleSaveDraft() {\n      const data = cloneDeep(this.topic)\n      data.iconType = undefined\n      data.status = this.$consts.status.draft\n      this.validate(data, () => {\n        this.submit(data)\n      })\n    },\n    submit(data) {\n      return this.$service.topicConfigUpsert(this.parseDataToApi(data), '保存成功').then(() => {\n        this.$emit('upsert-end')\n      })\n    },\n    parseDataToApi(data) {\n      const mode = this.mode\n      data.contentList = data.contentList.map((item) => {\n        return {\n          topicId: item.id,\n          topicName: item.topicName,\n          topicIsFocus: item.topicIsFocus ? 1 : 0\n        }\n      })\n      if (mode === 'replicate') {\n        data.currentVersion = ''\n      }\n      return data\n    }\n  },\n  created() {\n    this.mode = this.initMode || 'create'\n    if (this.id) {\n      this.fetchData(this.version)\n    }\n  }\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n.icon-img\n  cursor pointer\n  width 90px\n  height 90px\n  border 1px solid #ccc\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Detail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Detail.vue?vue&type=template&id=1c3517a0&scoped=true&\"\nimport script from \"./Detail.vue?vue&type=script&lang=js&\"\nexport * from \"./Detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Detail.vue?vue&type=style&index=0&id=1c3517a0&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1c3517a0\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('PageWrapper',[_c('PageContentWrapper',[_c('ContentCard',{ref:\"contentCard\",staticClass:\"content\"},[_c('ContentWrapper',{attrs:{\"filter\":_vm.filter,\"filterSchema\":_vm.filterSchema,\"pagination\":_vm.pagination},on:{\"filter-change\":_vm.handleFilterChange,\"filter-reset\":_vm.handleFilterReset}},[_c('ButtonGroupForListPage',{attrs:{\"pageName\":\"topicConfig\"},on:{\"add\":_vm.handleCreate,\"edit\":_vm.handleEdit,\"delete\":_vm.handleDelete}}),_c('Table',{attrs:{\"props\":_vm.table.props,\"header\":_vm.table.header,\"data\":_vm.table.data,\"selected\":_vm.table.selected,\"selection-type\":_vm.table.selectionType,\"select-on-row-click\":true},on:{\"row-selection-add\":_vm.handleRowSelectionAdd,\"row-selection-remove\":_vm.handleRowSelectionRemove,\"all-row-selection-change\":_vm.handleAllRowSelectionChange}})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <PageWrapper>\n    <PageContentWrapper>\n      <ContentCard ref=\"contentCard\"  class=\"content\">\n        <ContentWrapper\n          :filter=\"filter\"\n          :filterSchema=\"filterSchema\"\n          :pagination=\"pagination\"\n          @filter-change=\"handleFilterChange\"\n          @filter-reset=\"handleFilterReset\"\n        >\n          <ButtonGroupForListPage\n            pageName=\"topicConfig\"\n            @add=\"handleCreate\"\n            @edit=\"handleEdit\"\n            @delete=\"handleDelete\"\n          ></ButtonGroupForListPage>\n          <Table\n            :props=\"table.props\"\n            :header=\"table.header\"\n            :data=\"table.data\"\n            :selected=\"table.selected\"\n            :selection-type=\"table.selectionType\"\n            :select-on-row-click=\"true\"\n            @row-selection-add=\"handleRowSelectionAdd\"\n            @row-selection-remove=\"handleRowSelectionRemove\"\n            @all-row-selection-change=\"handleAllRowSelectionChange\"\n          />\n        </ContentWrapper>\n      </ContentCard>\n    </PageContentWrapper>\n  </PageWrapper>\n</template>\n\n<script>\nimport _ from 'gateschema'\nimport { Button } from 'element-ui'\nimport { ContentWrapper, Table, ActionList, utils } from 'admin-toolkit'\nimport ButtonGroupForListPage from '@/components/ButtonGroupForListPage'\nimport PageWrapper from '@/components/PageWrapper'\nimport PageContentWrapper from '@/components/PageContentWrapper'\nimport BaseList from '@/components/BaseList'\n\nexport default {\n  extends: BaseList,\n  components: {\n    Table,\n    ContentWrapper,\n    PageWrapper,\n    PageContentWrapper,\n    ButtonGroupForListPage\n  },\n  data() {\n    let _this = this\n    return {\n      resourceType: 'topicConfig',\n      activePage: 'topic_config_list',\n      filter: {\n      },\n      filterSchema: null,\n      pagination: {},\n      selected: [],\n      table: {\n        props: {\n        },\n        header: [\n          {\n            label: 'ID',\n            prop: 'id'\n          },\n          {\n            label: '名称',\n            prop: 'topicConfigName',\n            render: (h, { row }) => {\n              return (\n                <el-button\n                  type=\"text\"\n                  onClick={(event) => {\n                    event.stopPropagation()\n                    this.handleRead(row)\n                  }\n                  }>\n                  { row.topicConfigName }\n                </el-button>\n              )\n            }\n          },\n          {\n            label: '内容源',\n            prop: 'source',\n            render: (h, { row }) => {\n              return this.$consts.sourceText[row.source]\n            }\n          },\n          {\n            label: '状态',\n            prop: 'status',\n            render: (h, { row }) => {\n              return `${row.currentVersion}/${this.$consts.statusText[row.status]}`\n            }\n          },\n          {\n            label: '待审核副本',\n            prop: 'duplicateVersion',\n            render: (h, { row }) => {\n              const duplicateVersion = row.duplicateVersion\n              if (duplicateVersion) {\n                return <el-button type=\"text\" onClick={\n                  (event) => {\n                    event.stopPropagation()\n                    this.handleRead(row, duplicateVersion)\n                  }\n                }\n                >\n                  { duplicateVersion }\n                </el-button>\n              }\n            }\n          },\n          {\n            label: '操作',\n            width: '140',\n            fixed: 'right'\n          }\n        ],\n        data: [],\n        selected: [],\n        selectionType: 'multiple'\n      }\n    }\n  },\n  computed: {\n  },\n  methods: {\n    handleOpenContentAuthManager(row) {\n      this.$refs.contentCard.handleShowContentAuthManager({\n        id: row.homepageId,\n        type: 'topic',\n        menuElId: 'topic'\n      })\n    },\n    handleFilterChange(type, filter) {\n      if (filter) { this.filter = filter }\n      if (type === 'query') {\n        if (this.pagination) {\n          this.pagination.currentPage = 1\n        }\n      }\n      this.fetchData()\n    },\n    // 重置\n    handleFilterReset() {\n      this.filter = {\n        sort: undefined,\n        order: undefined\n      }\n      this.pagination.currentPage = 1\n      this.fetchData()\n    },\n    parseFilter() {\n      const { filter, pagination } = this\n      if (pagination) {\n        filter.page = pagination.currentPage\n        filter.rows = pagination.pageSize\n      }\n      return filter\n    },\n    /**\n     * 获取数据\n     */\n    fetchData() {\n      const filter = this.parseFilter()\n      this.$service.topicConfigGetList(filter).then(data => {\n        this.pagination.total = data.total\n        this.table.data = data.rows\n      })\n    }\n    /**\n     * 获取menuInfoTree\n     */\n    // getSysMenuInfo () {\n    //   return this.$service.getHomePageInfoMenu().then(data => {\n    //     this.buttonList = data\n    //   })\n    // }\n  },\n  created() {\n    this.fetchData()\n  }\n}\n</script>\n<style lang = 'stylus' scoped></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./List.vue?vue&type=template&id=576523a2&scoped=true&\"\nimport script from \"./List.vue?vue&type=script&lang=js&\"\nexport * from \"./List.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"576523a2\",\n  null\n  \n)\n\nexport default component.exports","<script>\nimport BaseResourceManager from '@/components/BaseResourceManager'\nimport Content from './Detail'\nimport List from './List'\nexport default {\n  extends: BaseResourceManager,\n  components: {\n    ResourceList: List,\n    ResourceContent: Content\n  },\n  data() {\n    return {}\n  },\n  computed: {\n    resourceInfo() {\n      return {\n        type: 'topicConfig',\n        idField: 'id'\n      }\n    }\n  }\n}\n</script>\n\n<style>\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","var render, staticRenderFns\nimport script from \"./DataForm.vue?vue&type=script&lang=js&\"\nexport * from \"./DataForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script>\nexport default {\n  provide() {\n    return {\n      dataForm: this\n    }\n  },\n  props: ['readonly'],\n  render(h) {\n    return h('el-form', {\n      ref: 'form',\n      props: {\n        ...this.$attrs\n      }\n    }, this.$slots.default)\n  }\n}\n</script>\n\n<style>\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DataForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DataForm.vue?vue&type=script&lang=js&\"","export default {\n  inject: ['dataForm'],\n  props: {\n    value: {},\n    label: String,\n    disabled: Boolean,\n    readonly: {},\n    prop: String,\n    placeholder: String,\n    errors: {},\n    rules: {}\n  },\n  computed: {\n    isReadonly() {\n      const readonly = this.readonly\n      if (readonly !== undefined) {\n        return readonly\n      }\n      return this.dataForm.readonly\n    }\n  }\n}\n"],"sourceRoot":""}